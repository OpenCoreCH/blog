<!doctype html><html lang=en><head><title>Using SavaPage as a Frontend for uniFLOW :: OpenCore Blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A uniFLOW Queue (that is available over SMB) can be integrated quite easily into SavaPage with the CUPS SMB backend. To add it, simply run the following command on the SavaPage server:
lpadmin -p uniflow_queue -v smb://serviceaccount:servicepassword@domain/uniflow_server/uniflow_queue -P path/to/driver.ppd While this works, all print jobs will arrive at the uniFLOW server with the used serviceaccount. SavaPage sends the username of the user that submitted the job in the For attribute of the transmitted PostScript file."><meta name=keywords content="canon,uniflow,print,savapage,byod,printportal"><meta name=robots content="noodp"><link rel=canonical href=https://blog.opencore.ch/posts/savapage-uniflow/><link rel=stylesheet href=https://blog.opencore.ch/assets/style.css><link rel=stylesheet href=https://blog.opencore.ch/assets/blue.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=https://blog.opencore.ch/img/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=https://blog.opencore.ch/img/favicon/blue.png><meta name=twitter:card content="summary"><meta name=twitter:site content><meta name=twitter:creator content="romanboehr"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="Using SavaPage as a Frontend for uniFLOW :: OpenCore Blog"><meta property="og:description" content="While the integration is relatively easy, ensuring that Follow-Me-Printing works correctly can be tricky. This article describes the necessary configuration steps."><meta property="og:url" content="https://blog.opencore.ch/posts/savapage-uniflow/"><meta property="og:site_name" content="Using SavaPage as a Frontend for uniFLOW"><meta property="og:image" content="https://blog.opencore.ch"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2022-01-12 00:00:00 +0000 UTC"></head><body class=blue><div class="container headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>OpenCore GmbH</div></a></div><div class=menu-trigger>menu</div></div></header><div class=content><div class=post><h1 class=post-title><a href=https://blog.opencore.ch/posts/savapage-uniflow/>Using SavaPage as a Frontend for uniFLOW</a></h1><div class=post-meta><span class=post-date>2022-01-12</span>
<span class=post-author>:: Roman Böhringer</span></div><span class=post-tags>#<a href=https://blog.opencore.ch/tags/sre/>sre</a>&nbsp;</span><div class=post-content><div><p>A <a href=https://www.uniflowonline.com>uniFLOW</a> Queue (that is available over SMB) can be integrated quite easily into <a href=https://www.savapage.org/>SavaPage</a> with the CUPS SMB backend. To add it, simply run the following command on the SavaPage server:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>lpadmin -p uniflow_queue -v smb://serviceaccount:servicepassword@domain/uniflow_server/uniflow_queue -P path/to/driver.ppd
</span></span></code></pre></div><p>While this works, all print jobs will arrive at the uniFLOW server with the used <code>serviceaccount</code>.
SavaPage sends the username of the user that submitted the job in the <code>For</code> attribute of the transmitted PostScript file.
However, uniFlOW considers in its default configuration only the user that submitted the print job to the SMB queue and ignores this attribute.
Follow-Me-Printing will therefore not work, as all print jobs are assigned to the account <code>serviceaccount</code>.</p><p>To resolve the problem, you have to create a custom print workflow (ideally on a dedicated queue for SavaPage) where the <code>For</code> attribute is considered. Such a workflow could look like this:</p><p><img src=/images/uniflow_for_comment_workflow.png alt="Example uniFLOW Workflow"></p><p>The crucial step here is the second, &ldquo;Identify user by For comment&rdquo;, which ensures that the attribute is used for the identification of the user. The other steps may look different, depending on your setup.
When you add a queue with such a workflow to SavaPage, the jobs are assigned to the correct user.</p><p>If you need help with the integration or want to use SavaPage in a different environment, OpenCore GmbH can help you to do so as a <a href="https://wiki.savapage.org/doku.php?id=partner_list#opencore_gmbh">Deployment Partner</a>.</p></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://blog.opencore.ch/posts/boost-python-cmake/><span class=button__icon>←</span>
<span class=button__text>Boost.Python: A minimal CMake Config</span></a></span>
<span class="button next"><a href=https://blog.opencore.ch/posts/python-cpp-numpy-zero-copy/><span class=button__text>Exposing C/C++ Data as a Python NumPy Array</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2023 <a href=https://twitter.com/romanboehr/ target=_blank>Roman Böhringer</a></span></div></div></footer><script src=https://blog.opencore.ch/assets/main.js></script>
<script src=https://blog.opencore.ch/assets/prism.js></script></div></body></html>